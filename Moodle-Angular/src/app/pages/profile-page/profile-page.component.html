<app-navbar></app-navbar>
<div class="d-flex justify-content-center align-items-center min-vh-100">
  <div class="w-100" style="max-width: 400px">
    <form
      *ngIf="profileForm"
      [formGroup]="profileForm"
      (ngSubmit)="onSubmit()"
      enctype="multipart/form-data"
    >
      <div class="col-md-12 text-center mb-3">
      <img
        [src]="
          selectedFile? imagePreview
            : profileForm.value.profilePicture?.startsWith('http')
              ? profileForm.value.profilePicture
              : 'http://localhost:8800/uploads/profiles/' + profileForm.value.profilePicture
        "
        alt="Profile Preview"
        class="rounded-circle"
        width="120"
        height="120"
      />
        <input
          type="file"
          accept="image/*"
          (change)="onImageSelected($event)"
          class="form-control mt-2"
        />
      </div>

      <div class="col-md-12">
        <input
          class="form-control"
          type="text"
          formControlName="nom"
          placeholder="Nom"
        />
      </div>

      <div class="col-md-12">
        <input
          class="form-control"
          type="text"
          formControlName="prenom"
          placeholder="PrÃ©nom"
        />
      </div>

      <div class="col-md-12">
        <input
          class="form-control"
          type="email"
          formControlName="email"
          placeholder="Email"
        />
      </div>

      <div class="col-md-12">
        <input
          class="form-control"
          type="password"
          formControlName="password"
          placeholder="Password"
        />
      </div>

      <div class="col-md-12">
        <input class="form-control" type="text" formControlName="role" />
      </div>

      <div class="form-button mt-3">
        <button type="submit" class="btn btn-primary">Mettre Ã  jour</button>
      </div>
    </form>
  </div>
</div>

<!-- Toast Container -->
<div
  class="position-fixed top-0 start-50 translate-middle-x p-3"
  style="z-index: 1055"
>
  <div
    #liveToast
    class="toast align-items-center text-white border-0"
    [ngClass]="toastType === 'success' ? 'bg-success' : 'bg-danger'"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div class="d-flex">
      <div class="toast-body">
        {{ toastMessage }}
      </div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        data-bs-dismiss="toast"
        aria-label="Close"
      ></button>
    </div>
  </div>
</div>
